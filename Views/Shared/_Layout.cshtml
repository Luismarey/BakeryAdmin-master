<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@ViewData["Title"] - Migas de Amor</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.10.0/css/bootstrap-datepicker.min.css" />

    <style>
        body {
            background-color: #fffaf2;
            font-family: "Segoe UI", sans-serif;
            background: #faf6f1;
        }

        /* Header */
        .brand-header {
            background: #f6eee4;
            border-bottom: 3px solid #d9b28c;
        }

        .brand-title {
            font-family: "Georgia", serif;
            font-size: 1.6rem;
            color: #6a3e1f;
        }

        /* Menú */
        .navbar-custom {
            background-color: #8b4a24 !important;
        }

            .navbar-custom .nav-link.active,
            .navbar-custom .nav-link:hover {
                font-weight: bold;
                background-color: rgba(255, 255, 255, 0.15);
                border-radius: 5px;
            }

        /* Banner */
        .hero-banner {
            background-image: url('/img/logo-mascota.png');
            background-position: center;
            background-size: contain;
            background-repeat: no-repeat;
            height: 280px;
            border-radius: 12px;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            margin-top: 20px;
        }

            .hero-banner h1 {
                background: rgba(255, 255, 255, 0.85);
                padding: 8px 22px;
                border-radius: 12px;
                color: #6a3e1f;
                font-family: "Georgia", serif;
            }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="brand-header py-2 shadow-sm">
        <div class="container d-flex align-items-center justify-content-between">
            <div class="d-flex align-items-center">
                <img src="/img/logo-horizontal.png" alt="Migas de Amor" height="90" class="me-3" />
            </div>

            <a class="btn btn-sm btn-outline-danger" href="/Account/Logout">
                <i class="fa fa-sign-out-alt"></i> Salir
            </a>
        </div>
    </header>

    <!-- Menú -->
    <nav class="navbar navbar-expand-lg navbar-dark navbar-custom shadow-sm">
        <div class="container">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainMenu">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="mainMenu">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item"><a class="nav-link @(Context.Request.Path == "/" ? "active" : "")" href="/"><i class="fa-solid fa-house"></i> </a></li>
                    <li class="nav-item"><a class="nav-link @(Context.Request.Path.StartsWithSegments("/Personas") ? "active" : "")" href="/Personas"><i class="fa-solid fa-users"></i> Personas</a></li>
                    <li class="nav-item"><a class="nav-link @(Context.Request.Path.StartsWithSegments("/Productos") ? "active" : "")" href="/Productos"><i class="fa-solid fa-bread-slice"></i> Productos</a></li>
                    <li class="nav-item"><a class="nav-link @(Context.Request.Path.StartsWithSegments("/Ordenes") ? "active" : "")" href="/Ordenes"><i class="fa-solid fa-file-invoice"></i> Órdenes</a></li>
                    <li class="nav-item"><a class="nav-link @(Context.Request.Path.StartsWithSegments("/Entregas") ? "active" : "")" href="/Entregas"><i class="fa-solid fa-truck"></i> Entregas</a></li>
                    <li class="nav-item"><a class="nav-link @(Context.Request.Path.StartsWithSegments("/Producciones") ? "active" : "")" href="/Producciones"><i class="fa-solid fa-industry"></i> Producción</a></li>
                    <li class="nav-item"><a class="nav-link @(Context.Request.Path.StartsWithSegments("/Cuentas") ? "active" : "")" href="/Cuentas"><i class="fa-solid fa-wallet"></i> Cuentas</a></li>
                    <li class="nav-item"><a class="nav-link @(Context.Request.Path.StartsWithSegments("/Direcciones") ? "active" : "")" href="/Direcciones"><i class="fa-solid fa-location-dot"></i> Direcciones</a></li>
                    <li class="nav-item"><a class="nav-link @(Context.Request.Path.StartsWithSegments("/Reportes") ? "active" : "")" href="/Reportes"><i class="fa-solid fa-chart-column"></i> Reportes</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Banner -->
    @{
        // Página actual (sin parámetros)
        var currentPath = Context.Request.Path.ToString().ToLower();
    }

    @if (currentPath == "/" || currentPath == "/home" || currentPath == "/home/index")
    {
        <div class="container mt-4">
            <div class="hero-banner">
                <h1>Pan fresco hecho con amor ❤</h1>
            </div>
        </div>
    }

    <!-- Contenido -->
    <div class="container my-4">
        @RenderBody()
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.10.0/js/bootstrap-datepicker.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    @RenderSection("Scripts", required: false)
</body>
</html>
